{"version":3,"file":"_routewithoutlocale_.astro.mjs","sources":["../../../src/pages/[routeWithoutLocale].astro"],"sourcesContent":["---\nimport { redirectTo404 } from \"scripts-ssr/utils\";\nimport parser from \"accept-language-parser\";\nimport { Locales } from \"../locales\";\n\nconst routes = [\"about\", \"contact\", \"blog\"];\nconst route = Astro.params.routeWithoutLocale;\nif (!routes.includes(route!))\n    return redirectTo404(Astro.url, Astro.request.headers);\n\nconst acceptLanguages = Astro.request.headers.get(\"Accept-Language\");\nif (!acceptLanguages) return Astro.redirect(`/en/${route}`, 302);\n\nconst lang = parser.pick(Locales, acceptLanguages) || \"en\";\n\nreturn Astro.redirect(`/${lang}/${route}`, 302);\n---\n"],"names":["$$createAstro","$$createComponent","Astro"],"mappings":";;;;;;;;AAAA,MAAA,OAAA,GAAAA,YAAA,wBAAA,CAAA;AAAA,MAAA,oBAAA,GAAAC,eAAA,CAAA,CAAA,QAAA,EAAA,SAAA,OAAA,KAAA;AAAA,EAAA,MAAAC,MAAA,GAAA,QAAA,CAAA,WAAA,CAAA,OAAA,EAAA,SAAA,OAAA,CAAA;AAAA,EAAAA,OAAA,IAAA,GAAA,oBAAA;AAKA,EAAA,MAAM,MAAS,GAAA,CAAC,OAAS,EAAA,SAAA,EAAW,MAAM,CAAA;AAC1C,EAAM,MAAA,KAAA,GAAQA,OAAM,MAAO,CAAA,kBAAA;AAC3B,EAAI,IAAA,CAAC,MAAO,CAAA,QAAA,CAAS,KAAM,CAAA;AACvB,IAAA,OAAO,aAAcA,CAAAA,MAAAA,CAAM,GAAKA,EAAAA,MAAAA,CAAM,QAAQ,OAAO,CAAA;AAEzD,EAAA,MAAM,eAAkBA,GAAAA,MAAAA,CAAM,OAAQ,CAAA,OAAA,CAAQ,IAAI,iBAAiB,CAAA;AACnE,EAAI,IAAA,CAAC,iBAAwBA,OAAAA,MAAAA,CAAM,SAAS,CAAO,IAAA,EAAA,KAAK,IAAI,GAAG,CAAA;AAE/D,EAAA,MAAM,IAAO,GAAA,MAAA,CAAO,IAAK,CAAA,OAAA,EAAS,eAAe,CAAK,IAAA,IAAA;AAEtD,EAAA,OAAOA,OAAM,QAAS,CAAA,CAAA,CAAA,EAAI,IAAI,CAAI,CAAA,EAAA,KAAK,IAAI,GAAG,CAAA;AAf9C,CAAA,EAAA,2EAAA,MAAA,CAAA;;;;;;;;;;;;;;;;"}