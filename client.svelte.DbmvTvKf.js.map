{"version":3,"file":"client.svelte.DbmvTvKf.js","sources":["../../node_modules/svelte/src/utils.js","../../node_modules/svelte/src/internal/client/render.js","../../node_modules/svelte/src/internal/client/dom/blocks/snippet.js","../../node_modules/@astrojs/svelte/client.svelte.js"],"sourcesContent":["const regex_return_characters = /\\r/g;\n\n/**\n * @param {string} str\n * @returns {string}\n */\nexport function hash(str) {\n\tstr = str.replace(regex_return_characters, '');\n\tlet hash = 5381;\n\tlet i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn (hash >>> 0).toString(36);\n}\n\nconst VOID_ELEMENT_NAMES = [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr'\n];\n\n/**\n * Returns `true` if `name` is of a void element\n * @param {string} name\n */\nexport function is_void(name) {\n\treturn VOID_ELEMENT_NAMES.includes(name) || name.toLowerCase() === '!doctype';\n}\n\nconst RESERVED_WORDS = [\n\t'arguments',\n\t'await',\n\t'break',\n\t'case',\n\t'catch',\n\t'class',\n\t'const',\n\t'continue',\n\t'debugger',\n\t'default',\n\t'delete',\n\t'do',\n\t'else',\n\t'enum',\n\t'eval',\n\t'export',\n\t'extends',\n\t'false',\n\t'finally',\n\t'for',\n\t'function',\n\t'if',\n\t'implements',\n\t'import',\n\t'in',\n\t'instanceof',\n\t'interface',\n\t'let',\n\t'new',\n\t'null',\n\t'package',\n\t'private',\n\t'protected',\n\t'public',\n\t'return',\n\t'static',\n\t'super',\n\t'switch',\n\t'this',\n\t'throw',\n\t'true',\n\t'try',\n\t'typeof',\n\t'var',\n\t'void',\n\t'while',\n\t'with',\n\t'yield'\n];\n\n/**\n * Returns `true` if `word` is a reserved JavaScript keyword\n * @param {string} word\n */\nexport function is_reserved(word) {\n\treturn RESERVED_WORDS.includes(word);\n}\n\n/**\n * @param {string} name\n */\nexport function is_capture_event(name) {\n\treturn name.endsWith('capture') && name !== 'gotpointercapture' && name !== 'lostpointercapture';\n}\n\n/** List of Element events that will be delegated */\nconst DELEGATED_EVENTS = [\n\t'beforeinput',\n\t'click',\n\t'change',\n\t'dblclick',\n\t'contextmenu',\n\t'focusin',\n\t'focusout',\n\t'input',\n\t'keydown',\n\t'keyup',\n\t'mousedown',\n\t'mousemove',\n\t'mouseout',\n\t'mouseover',\n\t'mouseup',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerout',\n\t'pointerover',\n\t'pointerup',\n\t'touchend',\n\t'touchmove',\n\t'touchstart'\n];\n\n/**\n * Returns `true` if `event_name` is a delegated event\n * @param {string} event_name\n */\nexport function is_delegated(event_name) {\n\treturn DELEGATED_EVENTS.includes(event_name);\n}\n\n/**\n * Attributes that are boolean, i.e. they are present or not present.\n */\nconst DOM_BOOLEAN_ATTRIBUTES = [\n\t'allowfullscreen',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'indeterminate',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'seamless',\n\t'selected',\n\t'webkitdirectory',\n\t'defer',\n\t'disablepictureinpicture',\n\t'disableremoteplayback'\n];\n\n/**\n * Returns `true` if `name` is a boolean attribute\n * @param {string} name\n */\nexport function is_boolean_attribute(name) {\n\treturn DOM_BOOLEAN_ATTRIBUTES.includes(name);\n}\n\n/**\n * @type {Record<string, string>}\n * List of attribute names that should be aliased to their property names\n * because they behave differently between setting them as an attribute and\n * setting them as a property.\n */\nconst ATTRIBUTE_ALIASES = {\n\t// no `class: 'className'` because we handle that separately\n\tformnovalidate: 'formNoValidate',\n\tismap: 'isMap',\n\tnomodule: 'noModule',\n\tplaysinline: 'playsInline',\n\treadonly: 'readOnly',\n\tdefaultvalue: 'defaultValue',\n\tdefaultchecked: 'defaultChecked',\n\tsrcobject: 'srcObject',\n\tnovalidate: 'noValidate',\n\tallowfullscreen: 'allowFullscreen',\n\tdisablepictureinpicture: 'disablePictureInPicture',\n\tdisableremoteplayback: 'disableRemotePlayback'\n};\n\n/**\n * @param {string} name\n */\nexport function normalize_attribute(name) {\n\tname = name.toLowerCase();\n\treturn ATTRIBUTE_ALIASES[name] ?? name;\n}\n\nconst DOM_PROPERTIES = [\n\t...DOM_BOOLEAN_ATTRIBUTES,\n\t'formNoValidate',\n\t'isMap',\n\t'noModule',\n\t'playsInline',\n\t'readOnly',\n\t'value',\n\t'volume',\n\t'defaultValue',\n\t'defaultChecked',\n\t'srcObject',\n\t'noValidate',\n\t'allowFullscreen',\n\t'disablePictureInPicture',\n\t'disableRemotePlayback'\n];\n\n/**\n * @param {string} name\n */\nexport function is_dom_property(name) {\n\treturn DOM_PROPERTIES.includes(name);\n}\n\nconst NON_STATIC_PROPERTIES = ['autofocus', 'muted', 'defaultValue', 'defaultChecked'];\n\n/**\n * Returns `true` if the given attribute cannot be set through the template\n * string, i.e. needs some kind of JavaScript handling to work.\n * @param {string} name\n */\nexport function cannot_be_set_statically(name) {\n\treturn NON_STATIC_PROPERTIES.includes(name);\n}\n\n/**\n * Subset of delegated events which should be passive by default.\n * These two are already passive via browser defaults on window, document and body.\n * But since\n * - we're delegating them\n * - they happen often\n * - they apply to mobile which is generally less performant\n * we're marking them as passive by default for other elements, too.\n */\nconst PASSIVE_EVENTS = ['touchstart', 'touchmove'];\n\n/**\n * Returns `true` if `name` is a passive event\n * @param {string} name\n */\nexport function is_passive_event(name) {\n\treturn PASSIVE_EVENTS.includes(name);\n}\n\nconst CONTENT_EDITABLE_BINDINGS = ['textContent', 'innerHTML', 'innerText'];\n\n/** @param {string} name */\nexport function is_content_editable_binding(name) {\n\treturn CONTENT_EDITABLE_BINDINGS.includes(name);\n}\n\nconst LOAD_ERROR_ELEMENTS = [\n\t'body',\n\t'embed',\n\t'iframe',\n\t'img',\n\t'link',\n\t'object',\n\t'script',\n\t'style',\n\t'track'\n];\n\n/**\n * Returns `true` if the element emits `load` and `error` events\n * @param {string} name\n */\nexport function is_load_error_element(name) {\n\treturn LOAD_ERROR_ELEMENTS.includes(name);\n}\n\nconst SVG_ELEMENTS = [\n\t'altGlyph',\n\t'altGlyphDef',\n\t'altGlyphItem',\n\t'animate',\n\t'animateColor',\n\t'animateMotion',\n\t'animateTransform',\n\t'circle',\n\t'clipPath',\n\t'color-profile',\n\t'cursor',\n\t'defs',\n\t'desc',\n\t'discard',\n\t'ellipse',\n\t'feBlend',\n\t'feColorMatrix',\n\t'feComponentTransfer',\n\t'feComposite',\n\t'feConvolveMatrix',\n\t'feDiffuseLighting',\n\t'feDisplacementMap',\n\t'feDistantLight',\n\t'feDropShadow',\n\t'feFlood',\n\t'feFuncA',\n\t'feFuncB',\n\t'feFuncG',\n\t'feFuncR',\n\t'feGaussianBlur',\n\t'feImage',\n\t'feMerge',\n\t'feMergeNode',\n\t'feMorphology',\n\t'feOffset',\n\t'fePointLight',\n\t'feSpecularLighting',\n\t'feSpotLight',\n\t'feTile',\n\t'feTurbulence',\n\t'filter',\n\t'font',\n\t'font-face',\n\t'font-face-format',\n\t'font-face-name',\n\t'font-face-src',\n\t'font-face-uri',\n\t'foreignObject',\n\t'g',\n\t'glyph',\n\t'glyphRef',\n\t'hatch',\n\t'hatchpath',\n\t'hkern',\n\t'image',\n\t'line',\n\t'linearGradient',\n\t'marker',\n\t'mask',\n\t'mesh',\n\t'meshgradient',\n\t'meshpatch',\n\t'meshrow',\n\t'metadata',\n\t'missing-glyph',\n\t'mpath',\n\t'path',\n\t'pattern',\n\t'polygon',\n\t'polyline',\n\t'radialGradient',\n\t'rect',\n\t'set',\n\t'solidcolor',\n\t'stop',\n\t'svg',\n\t'switch',\n\t'symbol',\n\t'text',\n\t'textPath',\n\t'tref',\n\t'tspan',\n\t'unknown',\n\t'use',\n\t'view',\n\t'vkern'\n];\n\n/** @param {string} name */\nexport function is_svg(name) {\n\treturn SVG_ELEMENTS.includes(name);\n}\n\nconst MATHML_ELEMENTS = [\n\t'annotation',\n\t'annotation-xml',\n\t'maction',\n\t'math',\n\t'merror',\n\t'mfrac',\n\t'mi',\n\t'mmultiscripts',\n\t'mn',\n\t'mo',\n\t'mover',\n\t'mpadded',\n\t'mphantom',\n\t'mprescripts',\n\t'mroot',\n\t'mrow',\n\t'ms',\n\t'mspace',\n\t'msqrt',\n\t'mstyle',\n\t'msub',\n\t'msubsup',\n\t'msup',\n\t'mtable',\n\t'mtd',\n\t'mtext',\n\t'mtr',\n\t'munder',\n\t'munderover',\n\t'semantics'\n];\n\n/** @param {string} name */\nexport function is_mathml(name) {\n\treturn MATHML_ELEMENTS.includes(name);\n}\n\nconst RUNES = /** @type {const} */ ([\n\t'$state',\n\t'$state.raw',\n\t'$state.snapshot',\n\t'$props',\n\t'$props.id',\n\t'$bindable',\n\t'$derived',\n\t'$derived.by',\n\t'$effect',\n\t'$effect.pre',\n\t'$effect.tracking',\n\t'$effect.root',\n\t'$inspect',\n\t'$inspect().with',\n\t'$inspect.trace',\n\t'$host'\n]);\n\n/**\n * @param {string} name\n * @returns {name is RUNES[number]}\n */\nexport function is_rune(name) {\n\treturn RUNES.includes(/** @type {RUNES[number]} */ (name));\n}\n\n/** List of elements that require raw contents and should not have SSR comments put in them */\nconst RAW_TEXT_ELEMENTS = /** @type {const} */ (['textarea', 'script', 'style', 'title']);\n\n/** @param {string} name */\nexport function is_raw_text_element(name) {\n\treturn RAW_TEXT_ELEMENTS.includes(/** @type {RAW_TEXT_ELEMENTS[number]} */ (name));\n}\n\n/**\n * Prevent devtools trying to make `location` a clickable link by inserting a zero-width space\n * @param {string | undefined} location\n */\nexport function sanitize_location(location) {\n\treturn location?.replace(/\\//g, '/\\u200b');\n}\n","/** @import { ComponentContext, Effect, TemplateNode } from '#client' */\n/** @import { Component, ComponentType, SvelteComponent, MountOptions } from '../../index.js' */\nimport { DEV } from 'esm-env';\nimport {\n\tclear_text_content,\n\tcreate_text,\n\tget_first_child,\n\tget_next_sibling,\n\tinit_operations\n} from './dom/operations.js';\nimport { HYDRATION_END, HYDRATION_ERROR, HYDRATION_START } from '../../constants.js';\nimport { active_effect } from './runtime.js';\nimport { push, pop, component_context } from './context.js';\nimport { component_root, branch } from './reactivity/effects.js';\nimport {\n\thydrate_next,\n\thydrate_node,\n\thydrating,\n\tset_hydrate_node,\n\tset_hydrating\n} from './dom/hydration.js';\nimport { array_from } from '../shared/utils.js';\nimport {\n\tall_registered_events,\n\thandle_event_propagation,\n\troot_event_handles\n} from './dom/elements/events.js';\nimport { reset_head_anchor } from './dom/blocks/svelte-head.js';\nimport * as w from './warnings.js';\nimport * as e from './errors.js';\nimport { assign_nodes } from './dom/template.js';\nimport { is_passive_event } from '../../utils.js';\n\n/**\n * This is normally true — block effects should run their intro transitions —\n * but is false during hydration (unless `options.intro` is `true`) and\n * when creating the children of a `<svelte:element>` that just changed tag\n */\nexport let should_intro = true;\n\n/** @param {boolean} value */\nexport function set_should_intro(value) {\n\tshould_intro = value;\n}\n\n/**\n * @param {Element} text\n * @param {string} value\n * @returns {void}\n */\nexport function set_text(text, value) {\n\t// For objects, we apply string coercion (which might make things like $state array references in the template reactive) before diffing\n\tvar str = value == null ? '' : typeof value === 'object' ? value + '' : value;\n\t// @ts-expect-error\n\tif (str !== (text.__t ??= text.nodeValue)) {\n\t\t// @ts-expect-error\n\t\ttext.__t = str;\n\t\ttext.nodeValue = str + '';\n\t}\n}\n\n/**\n * Mounts a component to the given target and returns the exports and potentially the props (if compiled with `accessors: true`) of the component.\n * Transitions will play during the initial render unless the `intro` option is set to `false`.\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<Props>> | Component<Props, Exports, any>} component\n * @param {MountOptions<Props>} options\n * @returns {Exports}\n */\nexport function mount(component, options) {\n\treturn _mount(component, options);\n}\n\n/**\n * Hydrates a component on the given target and returns the exports and potentially the props (if compiled with `accessors: true`) of the component\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<Props>> | Component<Props, Exports, any>} component\n * @param {{} extends Props ? {\n * \t\ttarget: Document | Element | ShadowRoot;\n * \t\tprops?: Props;\n * \t\tevents?: Record<string, (e: any) => any>;\n *  \tcontext?: Map<any, any>;\n * \t\tintro?: boolean;\n * \t\trecover?: boolean;\n * \t} : {\n * \t\ttarget: Document | Element | ShadowRoot;\n * \t\tprops: Props;\n * \t\tevents?: Record<string, (e: any) => any>;\n *  \tcontext?: Map<any, any>;\n * \t\tintro?: boolean;\n * \t\trecover?: boolean;\n * \t}} options\n * @returns {Exports}\n */\nexport function hydrate(component, options) {\n\tinit_operations();\n\toptions.intro = options.intro ?? false;\n\tconst target = options.target;\n\tconst was_hydrating = hydrating;\n\tconst previous_hydrate_node = hydrate_node;\n\n\ttry {\n\t\tvar anchor = /** @type {TemplateNode} */ (get_first_child(target));\n\t\twhile (\n\t\t\tanchor &&\n\t\t\t(anchor.nodeType !== 8 || /** @type {Comment} */ (anchor).data !== HYDRATION_START)\n\t\t) {\n\t\t\tanchor = /** @type {TemplateNode} */ (get_next_sibling(anchor));\n\t\t}\n\n\t\tif (!anchor) {\n\t\t\tthrow HYDRATION_ERROR;\n\t\t}\n\n\t\tset_hydrating(true);\n\t\tset_hydrate_node(/** @type {Comment} */ (anchor));\n\t\thydrate_next();\n\n\t\tconst instance = _mount(component, { ...options, anchor });\n\n\t\tif (\n\t\t\thydrate_node === null ||\n\t\t\thydrate_node.nodeType !== 8 ||\n\t\t\t/** @type {Comment} */ (hydrate_node).data !== HYDRATION_END\n\t\t) {\n\t\t\tw.hydration_mismatch();\n\t\t\tthrow HYDRATION_ERROR;\n\t\t}\n\n\t\tset_hydrating(false);\n\n\t\treturn /**  @type {Exports} */ (instance);\n\t} catch (error) {\n\t\tif (error === HYDRATION_ERROR) {\n\t\t\tif (options.recover === false) {\n\t\t\t\te.hydration_failed();\n\t\t\t}\n\n\t\t\t// If an error occured above, the operations might not yet have been initialised.\n\t\t\tinit_operations();\n\t\t\tclear_text_content(target);\n\n\t\t\tset_hydrating(false);\n\t\t\treturn mount(component, options);\n\t\t}\n\n\t\tthrow error;\n\t} finally {\n\t\tset_hydrating(was_hydrating);\n\t\tset_hydrate_node(previous_hydrate_node);\n\t\treset_head_anchor();\n\t}\n}\n\n/** @type {Map<string, number>} */\nconst document_listeners = new Map();\n\n/**\n * @template {Record<string, any>} Exports\n * @param {ComponentType<SvelteComponent<any>> | Component<any>} Component\n * @param {MountOptions} options\n * @returns {Exports}\n */\nfunction _mount(Component, { target, anchor, props = {}, events, context, intro = true }) {\n\tinit_operations();\n\n\tvar registered_events = new Set();\n\n\t/** @param {Array<string>} events */\n\tvar event_handle = (events) => {\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tvar event_name = events[i];\n\n\t\t\tif (registered_events.has(event_name)) continue;\n\t\t\tregistered_events.add(event_name);\n\n\t\t\tvar passive = is_passive_event(event_name);\n\n\t\t\t// Add the event listener to both the container and the document.\n\t\t\t// The container listener ensures we catch events from within in case\n\t\t\t// the outer content stops propagation of the event.\n\t\t\ttarget.addEventListener(event_name, handle_event_propagation, { passive });\n\n\t\t\tvar n = document_listeners.get(event_name);\n\n\t\t\tif (n === undefined) {\n\t\t\t\t// The document listener ensures we catch events that originate from elements that were\n\t\t\t\t// manually moved outside of the container (e.g. via manual portals).\n\t\t\t\tdocument.addEventListener(event_name, handle_event_propagation, { passive });\n\t\t\t\tdocument_listeners.set(event_name, 1);\n\t\t\t} else {\n\t\t\t\tdocument_listeners.set(event_name, n + 1);\n\t\t\t}\n\t\t}\n\t};\n\n\tevent_handle(array_from(all_registered_events));\n\troot_event_handles.add(event_handle);\n\n\t/** @type {Exports} */\n\t// @ts-expect-error will be defined because the render effect runs synchronously\n\tvar component = undefined;\n\n\tvar unmount = component_root(() => {\n\t\tvar anchor_node = anchor ?? target.appendChild(create_text());\n\n\t\tbranch(() => {\n\t\t\tif (context) {\n\t\t\t\tpush({});\n\t\t\t\tvar ctx = /** @type {ComponentContext} */ (component_context);\n\t\t\t\tctx.c = context;\n\t\t\t}\n\n\t\t\tif (events) {\n\t\t\t\t// We can't spread the object or else we'd lose the state proxy stuff, if it is one\n\t\t\t\t/** @type {any} */ (props).$$events = events;\n\t\t\t}\n\n\t\t\tif (hydrating) {\n\t\t\t\tassign_nodes(/** @type {TemplateNode} */ (anchor_node), null);\n\t\t\t}\n\n\t\t\tshould_intro = intro;\n\t\t\t// @ts-expect-error the public typings are not what the actual function looks like\n\t\t\tcomponent = Component(anchor_node, props) || {};\n\t\t\tshould_intro = true;\n\n\t\t\tif (hydrating) {\n\t\t\t\t/** @type {Effect} */ (active_effect).nodes_end = hydrate_node;\n\t\t\t}\n\n\t\t\tif (context) {\n\t\t\t\tpop();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tfor (var event_name of registered_events) {\n\t\t\t\ttarget.removeEventListener(event_name, handle_event_propagation);\n\n\t\t\t\tvar n = /** @type {number} */ (document_listeners.get(event_name));\n\n\t\t\t\tif (--n === 0) {\n\t\t\t\t\tdocument.removeEventListener(event_name, handle_event_propagation);\n\t\t\t\t\tdocument_listeners.delete(event_name);\n\t\t\t\t} else {\n\t\t\t\t\tdocument_listeners.set(event_name, n);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\troot_event_handles.delete(event_handle);\n\n\t\t\tif (anchor_node !== anchor) {\n\t\t\t\tanchor_node.parentNode?.removeChild(anchor_node);\n\t\t\t}\n\t\t};\n\t});\n\n\tmounted_components.set(component, unmount);\n\treturn component;\n}\n\n/**\n * References of the components that were mounted or hydrated.\n * Uses a `WeakMap` to avoid memory leaks.\n */\nlet mounted_components = new WeakMap();\n\n/**\n * Unmounts a component that was previously mounted using `mount` or `hydrate`.\n *\n * Since 5.13.0, if `options.outro` is `true`, [transitions](https://svelte.dev/docs/svelte/transition) will play before the component is removed from the DOM.\n *\n * Returns a `Promise` that resolves after transitions have completed if `options.outro` is true, or immediately otherwise (prior to 5.13.0, returns `void`).\n *\n * ```js\n * import { mount, unmount } from 'svelte';\n * import App from './App.svelte';\n *\n * const app = mount(App, { target: document.body });\n *\n * // later...\n * unmount(app, { outro: true });\n * ```\n * @param {Record<string, any>} component\n * @param {{ outro?: boolean }} [options]\n * @returns {Promise<void>}\n */\nexport function unmount(component, options) {\n\tconst fn = mounted_components.get(component);\n\n\tif (fn) {\n\t\tmounted_components.delete(component);\n\t\treturn fn(options);\n\t}\n\n\tif (DEV) {\n\t\tw.lifecycle_double_unmount();\n\t}\n\n\treturn Promise.resolve();\n}\n","/** @import { Snippet } from 'svelte' */\n/** @import { Effect, TemplateNode } from '#client' */\n/** @import { Getters } from '#shared' */\nimport { EFFECT_TRANSPARENT } from '../../constants.js';\nimport { branch, block, destroy_effect, teardown } from '../../reactivity/effects.js';\nimport {\n\tdev_current_component_function,\n\tset_dev_current_component_function\n} from '../../context.js';\nimport { hydrate_next, hydrate_node, hydrating } from '../hydration.js';\nimport { create_fragment_from_html } from '../reconciler.js';\nimport { assign_nodes } from '../template.js';\nimport * as w from '../../warnings.js';\nimport * as e from '../../errors.js';\nimport { DEV } from 'esm-env';\nimport { get_first_child, get_next_sibling } from '../operations.js';\nimport { noop } from '../../../shared/utils.js';\n\n/**\n * @template {(node: TemplateNode, ...args: any[]) => void} SnippetFn\n * @param {TemplateNode} node\n * @param {() => SnippetFn | null | undefined} get_snippet\n * @param {(() => any)[]} args\n * @returns {void}\n */\nexport function snippet(node, get_snippet, ...args) {\n\tvar anchor = node;\n\n\t/** @type {SnippetFn | null | undefined} */\n\t// @ts-ignore\n\tvar snippet = noop;\n\n\t/** @type {Effect | null} */\n\tvar snippet_effect;\n\n\tblock(() => {\n\t\tif (snippet === (snippet = get_snippet())) return;\n\n\t\tif (snippet_effect) {\n\t\t\tdestroy_effect(snippet_effect);\n\t\t\tsnippet_effect = null;\n\t\t}\n\n\t\tif (DEV && snippet == null) {\n\t\t\te.invalid_snippet();\n\t\t}\n\n\t\tsnippet_effect = branch(() => /** @type {SnippetFn} */ (snippet)(anchor, ...args));\n\t}, EFFECT_TRANSPARENT);\n\n\tif (hydrating) {\n\t\tanchor = hydrate_node;\n\t}\n}\n\n/**\n * In development, wrap the snippet function so that it passes validation, and so that the\n * correct component context is set for ownership checks\n * @param {any} component\n * @param {(node: TemplateNode, ...args: any[]) => void} fn\n */\nexport function wrap_snippet(component, fn) {\n\treturn (/** @type {TemplateNode} */ node, /** @type {any[]} */ ...args) => {\n\t\tvar previous_component_function = dev_current_component_function;\n\t\tset_dev_current_component_function(component);\n\n\t\ttry {\n\t\t\treturn fn(node, ...args);\n\t\t} finally {\n\t\t\tset_dev_current_component_function(previous_component_function);\n\t\t}\n\t};\n}\n\n/**\n * Create a snippet programmatically\n * @template {unknown[]} Params\n * @param {(...params: Getters<Params>) => {\n *   render: () => string\n *   setup?: (element: Element) => void | (() => void)\n * }} fn\n * @returns {Snippet<Params>}\n */\nexport function createRawSnippet(fn) {\n\t// @ts-expect-error the types are a lie\n\treturn (/** @type {TemplateNode} */ anchor, /** @type {Getters<Params>} */ ...params) => {\n\t\tvar snippet = fn(...params);\n\n\t\t/** @type {Element} */\n\t\tvar element;\n\n\t\tif (hydrating) {\n\t\t\telement = /** @type {Element} */ (hydrate_node);\n\t\t\thydrate_next();\n\t\t} else {\n\t\t\tvar html = snippet.render().trim();\n\t\t\tvar fragment = create_fragment_from_html(html);\n\t\t\telement = /** @type {Element} */ (get_first_child(fragment));\n\n\t\t\tif (DEV && (get_next_sibling(element) !== null || element.nodeType !== 1)) {\n\t\t\t\tw.invalid_raw_snippet_render();\n\t\t\t}\n\n\t\t\tanchor.before(element);\n\t\t}\n\n\t\tconst result = snippet.setup?.(element);\n\t\tassign_nodes(element, element);\n\n\t\tif (typeof result === 'function') {\n\t\t\tteardown(result);\n\t\t}\n\t};\n}\n","import { createRawSnippet, hydrate, mount, unmount } from 'svelte';\n\n/** @type {WeakMap<any, ReturnType<typeof createComponent>} */\nconst existingApplications = new WeakMap();\n\nexport default (element) => {\n\treturn async (Component, props, slotted, { client }) => {\n\t\tif (!element.hasAttribute('ssr')) return;\n\n\t\tlet children = undefined;\n\t\tlet _$$slots = undefined;\n\t\tlet renderFns = {};\n\n\t\tfor (const [key, value] of Object.entries(slotted)) {\n\t\t\t// Legacy slot support\n\t\t\t_$$slots ??= {};\n\t\t\tif (key === 'default') {\n\t\t\t\t_$$slots.default = true;\n\t\t\t\tchildren = createRawSnippet(() => ({\n\t\t\t\t\trender: () => `<astro-slot>${value}</astro-slot>`,\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\t_$$slots[key] = createRawSnippet(() => ({\n\t\t\t\t\trender: () => `<astro-slot name=\"${key}\">${value}</astro-slot>`,\n\t\t\t\t}));\n\t\t\t}\n\t\t\t// @render support for Svelte ^5.0\n\t\t\tif (key === 'default') {\n\t\t\t\trenderFns.children = createRawSnippet(() => ({\n\t\t\t\t\trender: () => `<astro-slot>${value}</astro-slot>`,\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\trenderFns[key] = createRawSnippet(() => ({\n\t\t\t\t\trender: () => `<astro-slot name=\"${key}\">${value}</astro-slot>`,\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tconst resolvedProps = {\n\t\t\t...props,\n\t\t\tchildren,\n\t\t\t$$slots: _$$slots,\n\t\t\t...renderFns,\n\t\t};\n\t\tif (existingApplications.has(element)) {\n\t\t\texistingApplications.get(element).setProps(resolvedProps);\n\t\t} else {\n\t\t\tconst component = createComponent(Component, element, resolvedProps, client !== 'only');\n\t\t\texistingApplications.set(element, component);\n\t\t\telement.addEventListener('astro:unmount', () => component.destroy(), { once: true });\n\t\t}\n\t};\n};\n\n/**\n * @param {any} Component\n * @param {HTMLElement} target\n * @param {Record<string, any>} props\n * @param {boolean} shouldHydrate\n */\nfunction createComponent(Component, target, props, shouldHydrate) {\n\tlet propsState = $state(props);\n\tconst bootstrap = shouldHydrate ? hydrate : mount;\n\tif (!shouldHydrate) {\n\t\ttarget.innerHTML = '';\n\t}\n\tconst component = bootstrap(Component, { target, props: propsState });\n\treturn {\n\t\tsetProps(newProps) {\n\t\t\tObject.assign(propsState, newProps);\n\t\t\t// Remove props in `propsState` but not in `newProps`\n\t\t\tfor (const key in propsState) {\n\t\t\t\tif (!(key in newProps)) {\n\t\t\t\t\tdelete propsState[key];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdestroy() {\n\t\t\tunmount(component);\n\t\t},\n\t};\n}\n"],"names":["PASSIVE_EVENTS","is_passive_event","name","mount","component","options","_mount","hydrate","init_operations","target","was_hydrating","hydrating","previous_hydrate_node","hydrate_node","anchor","get_first_child","HYDRATION_START","get_next_sibling","HYDRATION_ERROR","set_hydrating","set_hydrate_node","hydrate_next","instance","HYDRATION_END","w.hydration_mismatch","error","e.hydration_failed","clear_text_content","document_listeners","Component","props","events","context","intro","registered_events","event_handle","i","event_name","passive","handle_event_propagation","n","array_from","all_registered_events","root_event_handles","unmount","component_root","anchor_node","create_text","branch","push","ctx","component_context","assign_nodes","active_effect","pop","mounted_components","fn","createRawSnippet","params","snippet","element","html","fragment","create_fragment_from_html","result","teardown","existingApplications","client_svelte","slotted","client","children","_$$slots","renderFns","key","value","resolvedProps","createComponent","shouldHydrate","propsState","bootstrap","newProps"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}